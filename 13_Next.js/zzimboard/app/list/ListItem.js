import Link from "next/link";
import DetailButton from "./DetailButton";

export default function ListItem(props) {
  return (
    <div className="list-item">
      {/* í˜ì´ì§€ë¥¼ ì´ë™í•˜ëŠ” ë°©ë²•(1) - Link ì»´í¬ë„ŒíŠ¸ */}
      {/* Link ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ '/detail/ê¸€idë¡œ ì´ë™ */}
      <h4>
        <Link href={`/detail/${props.post._id.toString()}`}>
          {props.title}
        </Link>
      </h4>

      {/* í˜ì´ì§€ë¥¼ ì´ë™í•˜ëŠ” ë°©ë²•(2) - useRouter */}
      <DetailButton postId={props.post._id.toString()} />

      {/* ìˆ˜ì • ë²„íŠ¼ */}
      <Link href={`/edit/${props.post._id}`}>ğŸ–‹</Link>

      {/* ì‚­ì œ ë²„íŠ¼ */}
      <span className="cursor-pointer">ğŸ—‘</span>

      <p>{props.content}</p>
    </div>
  )
}

// ìƒì„¸ í˜ì´ì§€ ë§Œë“¤ê¸°
// 1) ê¸€ ì œëª© ëˆ„ë¥´ë©´ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™
// 2) DB ì—ì„œ í•´ë‹¹ ê²Œì‹œê¸€ ê°€ì ¸ì™€ì„œ ë³´ì—¬ì£¼ê¸°
// => ì´ë•Œ ìƒì„¸í˜ì´ì§€ URLì€? ex)  /detail/123
// => /app/detail í´ë” ì•ˆì— ì—¬ëŸ¬ í´ë” ë§Œë“¤ë©´ ë¹„íš¨ìœ¨ì 
// => React: URL íŒŒë¼ë¯¸í„°, Express: ë¼ìš°íŠ¸ íŒŒë¼ë¯¸í„° :id 
// => Next.js: Dynamic Routesì‚¬ìš© -> íŒŒì¼ ë˜ëŠ” í´ë” ì´ë¦„ì„ ëŒ€ê´„í˜¸ë¡œ ë¬¶ì–´ ìƒì„± []
// ê·¸ ì™¸
// \[ë³€ìˆ˜ë©´1]\[ë³€ìˆ˜ë©´2]\[ë³€ìˆ˜ë©´3]
// [...ë³€ìˆ˜ëª…]: Catch-all
// [[...ë³€ìˆ˜ëª…]]: Optional Catch-all

// ê¸€ ìˆ˜ì • ê¸°ëŠ¥ ë§Œë“¤ê¸°
// 1) ìˆ˜ì • ë²„íŠ¼ ëˆ„ë¥´ë©´ ê¸€ ìˆ˜ì • í˜ì´ì§€ë¡œ ì´ë™
// 2) ê¸€ ìˆ˜ì •í˜ì´ì§€ì— DBì—ì„œ ê°€ì ¸ì˜¨ ë‚´ìš©ì„ ì±„ì›Œë„£ê¸°
// 3) ìˆ˜ì • ë²„íŠ¼ ëˆ„ë¥´ë©´ DBì— ìˆëŠ” ê¸€ ìˆ˜ì •

// ê¸€ ì‚­ì œ ê¸°ëŠ¥ ë§Œë“¤ê¸°
// í”„ë¡ íŠ¸ë‹¨ JS ê¸°ëŠ¥ì„ ì“°ë ¤ë©´ client ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ ê°€ëŠ¥
// /list/page.js íŒŒì¼ì„ ì „ë¶€ client ì»´í¬ë„ŒíŠ¸ë¡œ ë°”ê¾¸ëŠ” ê²ƒë³´ë‹¤ í•„ìš”í•œ ì¼ë¶€ë¶„ë§Œ ë°”ê¾¸ëŠ”ê²Œ ë‚˜ìŒ
// => ì „ì²´ë¥¼ ë°”ê¿”ë²„ë¦¬ë©´ ê²€ìƒ‰ ë…¸ì¶œì— ì´ì ì´ ì—†ìŒ
// ì¦‰, í° í˜ì´ì§€ëŠ” server ì»´í¬ë„ŒíŠ¸ë¡œ ë‘ê³  í•„ìš”í•œ ë¶€ë¶„ë§Œ client ì»´í¬ë„ŒíŠ¸ë¡œ ì¶”ì¶œ

// 1) /list/ListItem.js ë¡œ ì»´í¬ë„ŒíŠ¸ ì¶”ì¶œ
// 2) ê¸€ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” 2ê°€ì§€ ë°©ë²•
// - ë¶€ëª¨(server ì»´í¬ë„ŒíŠ¸)ì—ì„œ DBë°ì´í„°ë¥¼ êº¼ë‚´ì™€ì„œ ìì‹(client ì»´í¬ë„ŒíŠ¸)ì—ê²Œ propsë¡œ ì „ë‹¬(ê¶Œì¥)
// - client ì»´í¬ë„ŒíŠ¸ì—ì„œ useEffect + axiosë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ë¡œ DBë°ì´í„° ìš”ì²­
//   - ë‹¨ì : ê²€ìƒ‰ ë…¸ì¶œì´ ì˜ ì•ˆë  ìˆ˜ ìˆìŒ
//   - useEffectë¥¼ ì“°ë©´ HTML ëœë”ë§ ì´í›„ì— ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— í˜ì´ì§€ ë°©ë¬¸ ì‹œ í…… ë¹ˆ HTMLì´ ë¨¼ì € ë³´ì„
//   - ê²€ìƒ‰ì—”ì§„ ë´‡ì´ ë°©ë¬¸ ì‹œ ìˆ˜ì§‘í•  ë°ì´í„°ê°€ ì—†ì–´ ìˆ˜ì§‘ì´ ëŠë¦¼
//   => CSRì˜ ë‹¨ì 