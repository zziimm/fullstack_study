<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <script>
    // 1. for of 루프
    // ES6에서 도입된 새로운 for 루프
    // 반복 가능한 객체(iterable = Symbol.iterator가 구현된 객체)의 값을 반복
    // 예: Array, String, Map, Nodelist 등과 같이 반복 가능한 데이터 구조를 반복할 수 있음
    // for (const iterator of object) {
    //   실행코드;
    // }
    // iterator: 모든 반복에 대해 속성의 값이 변수에 할당
    // object: iterator 속성을 가진 객체

    // (참고) 반복 가능한 객체인지 구분하는 법
    // 1) for of 루프를 써서 에러나면 반복 가능한 객체가 아님
    // 2) Symbol.iterator 메소드가 있는지 확인
    console.log([1, 2, 3]);
    console.log(new String('abc'));

    // 1) 배열에 대한 반복
    // 일반적인 for문 사용
    const fruits = ['apple', 'banana', 'orange'];
    for (let i = 0; i < fruits.length; i++) {
      console.log(fruits[i]);
    }

    // for of 루프 사용
    for (const fruit of fruits) {
      console.log(fruit);
    }

    // 2) 문자열에 대한 반복
    const language = 'JavaScript';
    for (const str of language) {
      console.log(str);
    }

    // 3) 객체에 대한 반복
    // 객체는 iterable이 아니다.
    const car = {
      maker: 'BMW',
      color: 'white',
      year: '2020'
    };

    // for (const prop of car) { // TypeError: car is not iterable
    //   console.log(prop); 
    // }

    // 객체의 key value 쌍에 대한 반복은 어떻게 구현할까?
    // Object.key()를 사용하면 객체의 모든 키를 배열로 가져온 후, 키에 대한 반복을 수행하면 값에 접근이 가능
    console.log(Object.keys(car));
    for (const key of Object.keys(car)) {
      const value = car[key];
      console.log(key, value);
    }

    // (참고) Object.entries(): 객체의 모든 키/값 쌍을 배열로 가져옴
    console.log(Object.entries(car));

    // 2. for in 루프
    // ES1 feature
    // (순서 없이) 객체의 속성(키값)을 반복
    // for (const key in object) {
    //   실행코드;
    // }

    for (const key in car) {
      const value = car[key];
      console.log(key, value);
    }

    // (참고) 배열에는 for in 루프 사용을 지양하는 것이 좋다
    // 1) 배열에 사용 시 성능이 떨어짐
    // 객체와 함께 사용할 때 최적화되어 있어서 객체 대비 10~100배 정도 느리다.
    // 2) 인덱스 순서가 주용한 경우 순서를 보장할 수 없음
    // 배열 값이 예상한 순서대로 액세스 되지 않을 수 있다.
    // 순서가 중요한 경우 for, for of, Array.forEach()를 사용 권장

    // 3. for of와 for in의 차이 정리
    const list = [4, 5, 6];

    // for in은 키의 목록을 반환
    for (const key in list) {
      console.log(key);
    }

    //  for of는 값을 반환
    for (const value of list) {
      console.log(value);
    }

    // Quiz 
    // 6.1 ES6에 새로 도입된 루프는 무엇인가?

    // 1) while 
    // 2) for of ddddddddddd
    // 3) for in

    // 6.2 다음 코드의 올바른 출력은?
    const people = ['Tom', 'Jerry', 'Mickey'];

    for (const person of people) {
      console.log(person);
    }

    // 1) Tom Jerry
    // 2) Tom
    // 3) Tom Jerry Mickey ddddddddddddd
    // 4) Mickey


  </script>
</head>
<body>
  
</body>
</html>