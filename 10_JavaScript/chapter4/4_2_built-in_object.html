<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <script>
    // 2. 내장 객체(JS 기본 제공)
    // 자바스크립트 엔진에 내장 되어 필요한 경우 생성하여 사용

    // 1) 날짜 정보 객체: 날짜와 시간에 대한 정보를 제공
    // 사용성이 떨어져서 날짜 관련 외부 라이브러리 사용을 추천
    // 변수 = new Date();

    // 오늘 날짜에 대한 정보를 가지고 있는 객체 생성
    const today = new Date();
    const nowYear = today.getFullYear();
    const nowMonth = today.getMonth(); // 0~11: 현재 월보다 1 적게 나옴
    const nowDate = today.getDate();
    const nowDay = today.getDay(); // 0~6: 일~토

    document.write('<h1>오늘 날짜 정보</h1>')
    document.write('날짜 정보(기본 포맷): ' + today, '<br>')
    document.write('현재 연도: ' + nowYear, '<br>')
    document.write('현재 월: ' + nowMonth, '<br>')
    document.write('현재 일: ' + nowDate, '<br>')
    document.write('현재 요일: ' + nowDay, '<br>')
    document.write(nowYear + '-' + (nowMonth + 1) + '-' + nowDate, '<br>')

    // 특정 날짜 정보를 갖는 날짜 객체 생성
    // new Date(연, 월, 일, 시, 분, 초, 밀리초);
    // 변수 = new Date(연, 월 - 1, 일);
    // 변수 = new Date('연/월/일');
    // 변수 = new Date('연-월-일');

    const someday = new Date(2023, 11, 31);
    // const someday = new Date('2023/12/31');
    // const someday = new Date('2023-12-31');
    const theYear = someday.getFullYear();
    const theMonth = someday.getMonth();
    const theDate = someday.getDate();
    const theDay = someday.getDay();

    document.write('<h1>특정 날짜 정보</h1>')
    document.write('날짜 정보(기본 포맷): ' + someday, '<br>')
    document.write('특정 연도: ' + theYear, '<br>')
    document.write('특정 월: ' + theMonth, '<br>')
    document.write('특정 일: ' + theDate, '<br>')
    document.write('특정 요일: ' + theDay, '<br>')

    // 특정 날짜까지 D-day 구하기
    // 남은 일 수(밀리초) = 특정 날짜 객체 시간 - 현재 날짜 객체 시간
    // 1초 = 1000ms
    // 1분(60초) = 1000 * 60ms
    // 1시간(60분) = 1000* 60 *60ms
    // 1일(24시간) = 1000 * 60 * 60 * 24ms

    const classEndDate = new Date(2024, 0, 18);
    const diffDate = classEndDate.getTime() - today.getTime();
    // getTime(): 1970년 1월 1일 0시 0분 0초로부터 시작해서 지금까지 몇 ms가 지났는지

    const result = Math.ceil(diffDate / (1000 * 60 * 60 * 24));
    document.write('<h1>오늘부터 종강까지 남은 일수</h1>');
    document.write('D-day: ' + result + '일 남았습니다.');

    // 2) 수학 객체: 수학 관련 기능과 속성을 제공
    // 객체 생성을 하지 않고 사용 가능 => 정적(static)
    // Math.메소드명();
    // Math.속성명;

    document.write('<h1>수학 객체 사용</h1>');
    const maxNum = Math.max(10, 5, 8, 30); // 최대값
    const minNum = Math.min(10, 5, 8, 30); // 최소값
    document.write(maxNum, '<br>');
    document.write(minNum, '<br>');

    const num = 2.1234;
    const roundNum = Math.round(2.1234); // 소수점 첫째 자리 반올림
    const floorNum = Math.floor(2.1234); // 소수점 첫째 자리 내림
    const ceilNum = Math.ceil(2.1234); // 소수점 첫째 자리 올림
    document.write(roundNum, '<br>');
    document.write(floorNum, '<br>');
    document.write(ceilNum, '<br>');

    document.write(Math.PI, '<br>');

    const randomNum = Math.random(); // 0.0이상 1.0미만의 난수 발생(실수값)
    document.write(randomNum, '<br>')

    // random()을 이용하여 특정 범위의 랜덤한 정수값 구하기
    document.write('<h1>1~10까지 랜덤한 정수값 구하기</h1>');
    // 0.0 <= Math.random() < 1.0
    document.write(randomNum, '<br>')
    // 0.0 <= Math.random() * 10 <10.0 (0이상 10미만의 랜덤한 실수값)
    document.write(randomNum * 10, '<br>')
    // 0 <= Math.floor(Math.random() * 10) <10.0 (0이상 10미만의 랜덤한 정수값 0~9)
    document.write(Math.floor(randomNum * 10), '<br>')
    // 1 <= Math.floor(Math.random() * 10) <11 (1이상 11미만의 랜덤한 정수값, 1~10)
    document.write(Math.floor(randomNum * 10) + 1, '<br>')
    // 공식화: Math.floor(Math.random() * (최대값 - 최소값 + 1)) + 최소값;

    // 컴퓨터가 내려는 가위, 바위, 보 맞추기!
    document.write('<h1>가위, 바위, 보 맞추기</h1>');
    // const game = prompt('가위, 바위, 보 중 선택하세요.', '가위');
    // let gameNum;
    // switch (game) {
    //   case '가위':
    //     gameNum = 1;
    //     break;
    //   case '바위':
    //     gameNum = 2;
    //     break;
    //   case '보':
    //     gameNum = 3;
    //     break;
    
    //   default:
    //     alert('잘못 작성하셨습니다.');
    //     location.reload;
    //     break;
    // }

    // 1~3 사이의 정수값: 난수 발생
    // const com = Math.floor(Math.random() * 3) + 1;
    // document.write(`<img src="images/math_img_${com}.jpg">`);

    // if (com === gameNum) {
    //   document.write(`<img src="images/game_1.jpg">`);
    // } else {
    // document.write(`<img src="images/game_2.jpg">`);
    // }
    document.write('<br>')

    
    // quiz 맞추는 게임이 아닌 가위, 바위, 보 게임으로 바꿔보기
    // document.write('<h1>가위, 바위, 보 맞추기</h1>')
    // document.write('내가 낸 것');
    // // 내가 낸 것 이미지 출력
    // document.write(`<img src="images/math_img_${gameNum}.jpg">`);
    // document.write('VS 컴퓨터가 낸 것');
    // // 컴퓨터가 낸 것 이미지 출력
    // document.write(`<img src="images/math_img_${com}.jpg">`);
    
    // 누가 이겼는지 출력!!
    // if (gameNum === 1) {
    //   if (com === 1) {
    //     document.write('비김')
    //   } else if (com === 2) {
    //     document.write('나 졌다')
    //   } else if (com === 3) {
    //     document.write('나 이김')
    //   }
    // } else if (gameNum === 2) {
    //   if (com === 1) {
    //     document.write('나 이김')
    //   } else if (com === 2) {
    //     document.write('비김')
    //   } else if (com === 3) {
    //     document.write('나 졌다')
    //   }
    // } else if (gameNum === 3) {
    //   if (com === 1) {
    //     document.write('나 졌다')
    //   } else if (com === 2) {
    //     document.write('나 이김')
    //   } else if (com === 3) {
    //     document.write('비김')
    //   }
    // }

    // gameNum과 com의 차를 이용
    // 0이면 비김
    // 1 또는 -2 이면 내가 이김
    // 그 외는 내가 짐

    // const whoWin = gameNum - com;
    // if (whoWin === 0) {
    //   document.write('비겼다.');
    // } else if (whoWin === 1 || whoWin === -2) {
    //   document.write('내가 이겼다.');
    // } else {
    //   document.write('내가 졌다.');
    // }
    
    // 3) 배열 객체: 변수는 하나의 데이터만 저장 가능, 배열은 여러 개의 데이터를 순차적으로 저장 가능
    // 예: 학생 30명의 시험 점수를 저장하려면 30개의 변수가 필요함, 배열을 이용하면 하나의 배열로
    // 30개의 데이터 저장 가능

    // 배열 객체 생성 3가지 방식
    // 첫번째 방식
    // 변수 = new Array(값1, 값2, 값3);

    // 두번째 방식
    // 변수 = new Array();
    // 변수[0] = 값1;
    // 변수[1] = 값2;
    // 변수[2] = 값3;

    // 세번째 방식
    // 변수 = [값1, 값2, 값3]; => 리터럴 방식

    // 배열에 접근하기
    // 배열의 인덱스는 0부터 시작
    // 변수[인덱스 번호]로 접근 가능
    
    // 배열에 저장된 값 출력하기(여러가지 방법이 존재)
    const arr = [30, '데이터', true];
    console.log(arr);

    document.write('<h3>배열값 가져오기-1</h3>');
    document.write(arr[0], '<br>');
    document.write(arr[1], '<br>');
    document.write(arr[2], '<br>');

    document.write('<h3>배열값 가져오기-2</h3>');
    for (let i = 0; i < arr.length; i++) {
      document.write(arr[i], '<br>');
    }

    document.write('<h3>배열값 가져오기-3(권장안함)</h3>');
    // arr에서 key값 (인덱스값)을 하나씩 가져옴 (0, 1, 2)
    for (const i in arr) {
      document.write(arr[i], '<br>');
    }

    document.write('<h3>배열값 가져오기-4</h3>');
    for (const el of arr) { // value 값을 가져옴, ES6차 문법
      document.write(el, '<br>');
    }

    document.write('<h3>배열값 가져오기-5</h3>');
    arr.forEach(function (element, index) {
      document.write(index , ': ', element, '<br>');
    })

    // 배열 객체의 메소드(1)
    const arr1 = ['사당', '교대', '방배', '강남'];
    const arr2 = ['신사', '압구정', '옥수'];

    let resultArr = arr1.join('-'); // 배열의 값을 지정한 문자로 연결하여 하나의 문자열로 반환
    console.log(resultArr);

    resultArr = arr1.concat(arr2); // 2개의 배열을 하나의 배열로 결합하여 새로운 배열로 반환
    console.log(resultArr);

    resultArr = arr1.slice(1, 3); // 지정된 시작과 끝 위치(끝위치는 포함되지 않음) 구간만큼 잘라내서 새로운 배열로 반환
    console.log(resultArr);

    arr1.sort(); // 배열의 값을 오름차순(알파벳 순)으로 정렬(원본 배열이 변경됨)
    console.log(arr1);

    arr2.reverse(); // 배열의 순서를 반대로 바꿈(원본 배열이 변경됨)
    console.log(arr2);

    // (중요) 배열에서 숫자 데이터를 정렬하려면 비교 함수가 필요
    // array.sort(비교함수);
    // 비교함수: function(a, b) { return a - b; }
    document.write('배열에서 숫자 데이터 정렬');
    const score = [40, 100, 1, 5, 25, 10];
    console.log(score.sort()); // '25'는 '100'보다 크다. 왜냐하면 '2'가 '1'보다 크기 때문

    // 숫자 데이터 오름차순
    console.log(score.sort(function(a, b) { return a - b; }));
    // 음수가 나오면 a, b 순으로
    // 양수가 나오면 b, a 순으로

    // quiz
    // 숫자 데이터 내림차순
    console.log(score.sort(function(a, b) { return b - a; }));

    //배열의 객체의 메소드(2)
    const greenArr = ['교대', '방배', '강남'];
    const yellowArr = ['미금', '정자', '수서'];

    greenArr.splice(2, 1, '서초', '역삼'); // 배열 요소를 추가하거나 제거(원본 배열이 변경됨)
    // 인덱스 2번부터 1개제거 하고 서초 역삼 추가
    console.log(greenArr);

    const popData = yellowArr.pop(); // 배열의 마지막 요소를 제거, 제거된 요소 반환(원본 배열이 변경됨)
    console.log(popData);
    console.log(yellowArr);
    const shiftData = yellowArr.shift(); // 배열의 첫번째 요소를 제거, 제거된 요소 반환(원본 배열이 변경됨)
    console.log(shiftData);
    console.log(yellowArr);

    yellowArr.push(shiftData); // 배열의 끝에 새 요소를 추가 (원본 배열이 변경됨)
    console.log(yellowArr);
    yellowArr.unshift(popData); // 배열의 시작 부분에 새 요소를 추가 (원본 배열이 변경됨)
    console.log(yellowArr);


    // 배열 객체의 메소드(3) = 검색
    const fruits = ['Banana', 'Orange', 'Apple', 'Mango', 'Apple'];

    // indexOf(): 지정된 값의 첫번째 인덱스를 반환, 찾을 수 없는 경우 -1을 반환
    let index = fruits.indexOf('Apple');
    console.log(index);
    index = fruits.indexOf('Apple', 3); // 검색 시작 위치 지정 (3부터 검색 시작)
    console.log(index);

    // includes(): 지정된 값이 포함된 경우 true, 포함되지 않은 경우 false (ES7차)
    console.log(fruits.includes('Mango'));
    console.log(fruits.includes('Banana', 3)); // 검색 시작 위치 지정 (3부터 검색 시작)

    // 4) 문자열 객체: 문자형 데이터에 대한 정보를 제공하고 제어하는 메소드와 속성을 제공
    // 문자열 생성 2가지 방식
    // 변수 = new String('문자');
    // 변수 = '문자'; => 리터럴 방식
    document.write('<h1>문자열 정보 출력하기</h1>');
    let text = 'Hello Thank you good luck to you';

    document.write('<h4>특정 문자 1개 추출</h4>');
    document.write(text.charAt(16), '<br>'); // 지정된 인덱스(위치)에 있는 문자를 반환

    document.write('<h4>문자열 검색</h4>');
    document.write(text.indexOf('you'), '<br>'); // 문자열에서 값이 처음 나타나는 위치를 반환, 찾을 수 없는 경우 -1을 반환
    document.write(text.indexOf('you', 16), '<br>'); // 검색 시작 위치 지정
    document.write(text.lastIndexOf('you'), '<br>'); // 문자열 끝에서부터 검색
    document.write(text.lastIndexOf('you', 25), '<br>'); // 검색 시작 위치 지정
    document.write(text.includes('you'), '<br>'); // 지정된 문자열이 포함된 경우 true 반환, 그렇지 않으면 false
    document.write(text.includes('you', 16), '<br>'); // 검색 시작 위치 지정

    document.write('<h4>문자열 추출</h4>');
    document.write(text.substr(21, 4), '<br>'); // 문자열의 일부(시작 인덱스부터 지정한 길이 만큼)를 추출
    document.write(text.substring(6, 12), '<br>'); // 두 인덱스 사이의 문자를 추출
    // 둘 다 2번째 인자값을 생략하면 문자열 끝까지 추출

    document.write('<h4>문자열 변환</h4>');
    document.write(text.replace('you', 'me'), '<br>') // 첫 번째 일치 항목을 찾아 교체된 새 문자열 반환
    document.write(text.replace(/you/g, 'me'), '<br>') // g = 전역, 모든 항목을 바꾸려면 정규표현식 사용
    document.write(text.toLocaleLowerCase(), '<br>') // 문자열을 소문자로 변환
    document.write(text.toLocaleUpperCase(), '<br>') // 문자열을 대문자로 변환

    // (참고) 정규 표현식(정규식) (실무 필수)
    // 문자열에서 특정 문자 조합을 찾기 위한 패턴입니다.
    // JavaScript에서는 정규 표현식도 객체로서, RegExp의 exec()와 test() 메서드를 사용할 수 있습니다.
    // String의 match(), matchAll() (ES2020), replace(), replaceAll() (ES2021), search(), split() 메서드와도 함께 사용할 수 있습니다.
    // 주로 회원가입 시 유효성 검사(패스워드, 이메일, 전화번호 포맷 검증)에 사용

    document.write('<h4>문자열 길이</h4>');
    document.write(text.length, '<br>');

    document.write('<h4>문자열 배열로 쪼개기</h4>');
    const myArraty = text.split(' ');  // 구분자로 공백 문자 사용
    console.log(myArraty);
    document.write(myArraty[0], '<br>');
    document.write(myArraty[4], '<br>');

    document.write('<h4>문자열 앞, 뒤 공백 제거</h4>');
    text = '     Hello World!     ';
    console.log(text);
    console.log(text.trim());

    // quiz
    // 주민등록번호를 입력받은 후 정보가 노출되지 않도록 뒤의 여섯자리는 ******로 출력하세요.

    document.write('<h1>주민등록번호 마스킹</h1>');
    const userSsn = prompt('주민등록번호 입력'); // 123456-1234567 -> 123456-1******
    const maskSsn = userSsn.substring(0, userSsn.length - 6) + '******';
    document.write(maskSsn, '<br>')
    

    // 사용자로부터 입력받은 이메일 주소 유효성 검사(정규표현식을 안쓰는 경우)
    document.write('<h1>이메일 주소 유효성 검사</h1>');
    const userEmail = prompt('당신의 이메일 주소는?');
    const arrUrl = ['.co.kr', 'com', '.net', '.or.kr', '.go.kr'];

    let check1 = false;
    let check2 = false;

    if (userEmail.includes('@')) { // @가 있는지 검사
      check1 = true;
    }

    for (let i = 0; i < arrUrl.length; i++) {
      if (userEmail.includes(arrUrl[i])) {
        check2 = true;
      }
    }

    if (check1 && check2) {
      document.write(userEmail);
    } else {
      alert('이메일 형식이 잘못되었습니다.')
    }
  </script>
</head>
<body>
  
</body>
</html>